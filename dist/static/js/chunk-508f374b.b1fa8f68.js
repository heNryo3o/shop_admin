(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-508f374b"],{"184b":function(e,t,a){},4381:function(e,t,a){"use strict";a("6762"),a("2fdb");var n=a("4360"),i={inserted:function(e,t,a){var i=t.value,s=n["a"].getters&&n["a"].getters.roles;if(!(i&&i instanceof Array&&i.length>0))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");var l=i,r=s.some(function(e){return!!s.includes("super_admin")||l.includes(e)});r||e.parentNode&&e.parentNode.removeChild(e)}},s=function(e){e.directive("permission",i)};window.Vue&&(window["permission"]=i,Vue.use(s)),i.install=s;t["a"]=i},"5d62":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"30px"}},[a("el-form",{ref:"postForm",staticClass:"form-container",attrs:{model:e.info}},[a("div",{staticStyle:{"font-size":"17px","font-weight":"600","margin-bottom":"20px"}},[e._v("\n      平台抽成比例（%）\n    ")]),e._v(" "),a("el-input",{staticStyle:{width:"200px","margin-bottom":"20px"},model:{value:e.info.rate,callback:function(t){e.$set(e.info,"rate",t)},expression:"info.rate"}}),e._v(" "),a("div",{staticStyle:{"font-size":"17px","font-weight":"600","margin-bottom":"20px"}},[e._v("\n      推手提现客服微信\n    ")]),e._v(" "),a("el-input",{staticStyle:{width:"200px","margin-bottom":"20px"},model:{value:e.info.kefu,callback:function(t){e.$set(e.info,"kefu",t)},expression:"info.kefu"}}),e._v(" "),a("div",{staticStyle:{"font-size":"17px","font-weight":"600","margin-bottom":"20px"}},[e._v("\n      首页banner图(宽高比3:1)\n    ")]),e._v(" "),a("el-row",[a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"20px"}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{size:"mini",type:"success"},on:{click:e.handleAddBanner}},[e._v("\n              添加banner\n            ")])],1),e._v(" "),e._l(e.info.banners,function(t,n){return a("div",{key:n},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("span",{staticStyle:{"font-size":"17px","font-weight":"600"}},[e._v("banner"+e._s(n+1))]),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelBanner(n)}}},[e._v("\n                删除banner\n              ")])],1),e._v(" "),a("el-form-item",{attrs:{label:"跳转类型：","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"item.type"}},[a("el-option",{key:"1",attrs:{label:"线上商家",value:"1"}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"线下商家",value:"2"}}),e._v(" "),a("el-option",{key:"3",attrs:{label:"线上商品",value:"3"}}),e._v(" "),a("el-option",{key:"4",attrs:{label:"线下商品",value:"4"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"编号：","label-width":"100px"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请填写跳转编号"},model:{value:t.target_id,callback:function(a){e.$set(t,"target_id",a)},expression:"item.target_id"}})],1),e._v(" "),0==n?a("el-form-item",{attrs:{label:"上传图片：","label-width":"100px"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,"on-success":e.handleUploadBannerSuccess0},model:{value:e.banner0,callback:function(t){e.banner0=t},expression:"banner0"}},[e.banner0?a("img",{staticClass:"avatar",attrs:{src:e.banner0}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):e._e(),e._v(" "),1==n?a("el-form-item",{attrs:{label:"上传图片：","label-width":"100px"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,"on-success":e.handleUploadBannerSuccess1},model:{value:e.banner1,callback:function(t){e.banner1=t},expression:"banner1"}},[e.banner1?a("img",{staticClass:"avatar",attrs:{src:e.banner1}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):e._e(),e._v(" "),2==n?a("el-form-item",{attrs:{label:"上传图片：","label-width":"100px"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,"on-success":e.handleUploadBannerSuccess2},model:{value:e.banner2,callback:function(t){e.banner2=t},expression:"banner2"}},[e.banner2?a("img",{staticClass:"avatar",attrs:{src:e.banner2}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):e._e(),e._v(" "),3==n?a("el-form-item",{attrs:{label:"上传图片：","label-width":"100px"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,"on-success":e.handleUploadBannerSuccess3},model:{value:e.banner3,callback:function(t){e.banner3=t},expression:"banner3"}},[e.banner3?a("img",{staticClass:"avatar",attrs:{src:e.banner3}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):e._e(),e._v(" "),4==n?a("el-form-item",{attrs:{label:"上传图片：","label-width":"100px"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,"on-success":e.handleUploadBannerSuccess4},model:{value:e.banner4,callback:function(t){e.banner4=t},expression:"banner4"}},[e.banner4?a("img",{staticClass:"avatar",attrs:{src:e.banner4}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):e._e(),e._v(" "),5==n?a("el-form-item",{attrs:{label:"上传图片：","label-width":"100px"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,"on-success":e.handleUploadBannerSuccess5},model:{value:e.banner5,callback:function(t){e.banner5=t},expression:"banner5"}},[e.banner5?a("img",{staticClass:"avatar",attrs:{src:e.banner5}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):e._e()],1)})],2)],1)]),e._v(" "),a("div",{staticStyle:{"font-size":"17px","font-weight":"600","margin-bottom":"20px","margin-top":"20px"}},[e._v("\n      首页广告图(宽高比4:1)\n    ")]),e._v(" "),a("el-form-item",{attrs:{label:"跳转类型：","label-width":"100px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.ad_type,callback:function(t){e.$set(e.info,"ad_type",t)},expression:"info.ad_type"}},[a("el-option",{key:"1",attrs:{label:"线上商家",value:"1"}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"线下商家",value:"2"}}),e._v(" "),a("el-option",{key:"3",attrs:{label:"线上商品",value:"3"}}),e._v(" "),a("el-option",{key:"4",attrs:{label:"线下商品",value:"4"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"编号：","label-width":"100px"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请填写跳转编号"},model:{value:e.info.ad_target_id,callback:function(t){e.$set(e.info,"ad_target_id",t)},expression:"info.ad_target_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片：","label-width":"100px"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,"on-success":e.handleUploadSuccess},model:{value:e.info.ad_pic,callback:function(t){e.$set(e.info,"ad_pic",t)},expression:"info.ad_pic"}},[e.info.ad_pic?a("img",{staticClass:"avatar",attrs:{src:e.info.ad_pic}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("div",{staticStyle:{"font-size":"17px","font-weight":"600","margin-top":"20px"}},[e._v("\n      充值金额设定\n    ")]),e._v(" "),a("el-row",[a("div",{staticStyle:{"margin-top":"30px","margin-bottom":"20px"}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{size:"mini",type:"success"},on:{click:e.handleAddSku}},[e._v("\n              添加新档位\n            ")])],1),e._v(" "),e._l(e.info.deposits,function(t,n){return a("div",{key:n},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("span",{staticStyle:{"font-size":"17px","font-weight":"600"}},[e._v("档位"+e._s(n+1))]),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelSku(n)}}},[e._v("\n                删除档位\n              ")])],1),e._v(" "),a("el-form-item",{attrs:{label:"充值金额：","label-width":"100px"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请填写充值金额"},model:{value:t.deposit_money,callback:function(a){e.$set(t,"deposit_money",a)},expression:"item.deposit_money"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"赠送金额：","label-width":"100px"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请填写赠送金额"},model:{value:t.give_money,callback:function(a){e.$set(t,"give_money",a)},expression:"item.give_money"}})],1)],1)})],2)],1)]),e._v(" "),a("div",{staticStyle:{"margin-top":"40px","text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave()}}},[e._v("保存")])],1)],1)],1)},i=[],s=(a("7f7f"),a("6724")),l=a("4381"),r=a("b775");function o(){return Object(r["a"])({url:"/system/info",method:"get"})}function c(e){return Object(r["a"])({url:"/system/save-banner",method:"post",data:e})}var d={data:function(){return{dialogImageUrl:"",dialogVisible:!1,uploadUrl:"https://api.jiangsulezhong.com/admin/system/upload",info:{banners:[],ad_pic:""},banners:[],banner0:"",banner1:"",banner2:"",banner3:"",banner4:"",banner5:""}},directives:{waves:s["a"],permission:l["a"]},created:function(){this.getSetting()},methods:{handleDelSku:function(e){this.info.deposits.splice(e,1)},handleDelBanner:function(e){this.info.banners.splice(e,1)},handleAddSku:function(){this.info.deposits.push({deposit_money:"",give_money:""})},handleAddBanner:function(){this.info.banners.length>5?this.$notify({title:"失败",message:"最多上传6个banner",type:"failed",duration:2e3}):this.info.banners.push({pic:"",type:"",target_id:""})},getSetting:function(){var e=this;o().then(function(t){e.info=t.data,e.banners=e.info.banners,e.banner0=e.info.banners[0]?e.info.banners[0].pic:"",e.banner1=e.info.banners[1]?e.info.banners[1].pic:"",e.banner2=e.info.banners[2]?e.info.banners[2].pic:"",e.banner3=e.info.banners[3]?e.info.banners[3].pic:"",e.banner4=e.info.banners[4]?e.info.banners[4].pic:"",e.banner5=e.info.banners[5]?e.info.banners[5].pic:""})},handleRemove:function(e,t){this.fileChange(t)},handleAttachSuccess:function(e,t,a){this.fileChange(a)},fileChange:function(e){var t=[];if(e.length>0)for(var a=0;a<e.length;a++)console.log(e[a]),t[a]={name:e[a].name,url:e[a].response?e[a].response.data.preview_url:e[a].url};this.info.banners=t},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleUploadBannerSuccess0:function(e){this.banner0=e.data.preview_url,this.info.banners[0].pic=e.data.preview_url},handleUploadBannerSuccess1:function(e){this.banner1=e.data.preview_url,this.info.banners[1].pic=e.data.preview_url},handleUploadBannerSuccess2:function(e){this.banner2=e.data.preview_url,this.info.banners[2].pic=e.data.preview_url},handleUploadBannerSuccess3:function(e){this.banner3=e.data.preview_url,this.info.banners[3].pic=e.data.preview_url},handleUploadBannerSuccess4:function(e){this.banner4=e.data.preview_url,this.info.banners[4].pic=e.data.preview_url},handleUploadBannerSuccess5:function(e){this.banner5=e.data.preview_url,this.info.banners[5].pic=e.data.preview_url},handleUploadSuccess:function(e){this.info.ad_pic=e.data.preview_url},handleSave:function(){var e=this;c({banners:this.info.banners,ad_pic:this.info.ad_pic,rate:this.info.rate,kefu:this.info.kefu,deposits:this.info.deposits,ad_target_id:this.info.ad_target_id,ad_type:this.info.ad_type}).then(function(t){e.$notify({title:"保存成功",message:"成功",type:"success",duration:2e3})})}}},p=d,u=(a("dee4"),a("2877")),f=Object(u["a"])(p,n,i,!1,null,null,null);t["default"]=f.exports},6724:function(e,t,a){"use strict";a("8d41");var n="@@wavesContext";function i(e,t){function a(a){var n=Object.assign({},t.value),i=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),s=i.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var l=s.getBoundingClientRect(),r=s.querySelector(".waves-ripple");switch(r?r.className="waves-ripple":(r=document.createElement("span"),r.className="waves-ripple",r.style.height=r.style.width=Math.max(l.width,l.height)+"px",s.appendChild(r)),i.type){case"center":r.style.top=l.height/2-r.offsetHeight/2+"px",r.style.left=l.width/2-r.offsetWidth/2+"px";break;default:r.style.top=(a.pageY-l.top-r.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",r.style.left=(a.pageX-l.left-r.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return r.style.backgroundColor=i.color,r.className="waves-ripple z-active",!1}}return e[n]?e[n].removeHandle=a:e[n]={removeHandle:a},a}var s={bind:function(e,t){e.addEventListener("click",i(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[n].removeHandle,!1),e.addEventListener("click",i(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[n].removeHandle,!1),e[n]=null,delete e[n]}},l=function(e){e.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(l)),s.install=l;t["a"]=s},"8d41":function(e,t,a){},dee4:function(e,t,a){"use strict";var n=a("184b"),i=a.n(n);i.a}}]);